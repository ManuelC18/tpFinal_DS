<br>
<div>
    <h2> Lista de Temas</h2>
</div>

<div>
    <input [(ngModel)]="temaId" type="number" placeholder="Ingrese ID del tema">
    <button (click)="getTemaById()">Buscar tema</button>
</div>
<br>

<!-- Mensaje de tema Inexistente -->
<h5 *ngIf="temaNoEncontrado" style="color: red;">Tema Inexistente</h5>


<!-- Tabla para mostrar la lista de temas -->
<table class="table table-temas" *ngIf="temas.length > 0">
    <thead class="table-dark">
        <tr>
            <th>Numero de tema</th>
            <th>Nombre</th>
            <th>Descripcion</th>
            <th>Eliminar</th>
            <th>Modificar</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let tema of temas">
            <td>{{tema.id}}</td>
            <td>{{tema.nombre}}</td>
            <td>{{tema.descripcion}}</td>
            <td>
                <button (click)="deletetemaById(tema.id)" class="btn btn-danger">Eliminar</button>
            </td>
            <td>
                <button (click)="seleccionartema(tema)" class="btn btn-primary">Editar</button>
            </td>
        </tr>
    </tbody>
</table>

<!-- Mensaje cuando no hay temas en la lista -->
<p *ngIf="temas.length === 0 && !temaNoEncontrado">No hay temas disponibles.</p>


<!-- Si se selecciona un tema para editar, mostramos el formulario -->
<div *ngIf="temaSeleccionado" class="container mt-4">
    <h2 class="mb-4">Editar tema</h2>
    <form (ngSubmit)="updateTema()">
        <!-- Nombre -->
        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre:</label>
            <input [(ngModel)]="temaSeleccionado.nombre" 
                   name="nombre" 
                   type="text" 
                   class="form-control" 
                   id="nombre" 
                   placeholder="Ingresa el nombre" 
                   required>
        </div>
        
        <!-- Descripcion -->
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripcion:</label>
            <input [(ngModel)]="temaSeleccionado.descripcion" 
                   name="descripcion" 
                   type="text" 
                   class="form-control" 
                   id="descripcion" 
                   placeholder="Ingresa el descripcion" 
                   required>
        </div>

        <!-- BotÃ³n Guardar Cambios -->
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </form>
    <br>
</div>

<br>